<!-- TABLE 1 -->

<div class="pt-5" [@animate]="{value:'*', params:{ scale:'.9', delay:'400ms' }}">
	<div class="row">
		<div class="col-11 py-5 px-3 text-center">
			<h5 class="text-muted m-0 mb-5">Primeng Table with Slanted Header, Sort, Resize, Sticky, Single Selection</h5>

			<p-table class="p-table-sticky"
				[value]="cars" 
				[resizableColumns]="true"
				selectionMode="single" 
				[(selection)]="selectedCar" 
				dataKey="vin">
			    <ng-template pTemplate="header">
			        <tr >
			            <th *ngFor="let col of cols" 
			            class="rotated-header" 
			            [pSortableColumn]="col.field"
			            (click)="removeHighlight()" pResizableColumn>
			            	<div class="rotated-header-decoration"></div>
			                <div class="rotated-header-text"> 
			                    <p-sortIcon [field]="col.field"></p-sortIcon>
			                    {{col.header}}
			                </div>
			                
			            </th>
			        </tr>
			    </ng-template>
			    <ng-template pTemplate="body" let-car>
			        <tr [pSelectableRow]="car">
			            <td *ngFor="let col of cols"  class="ui-resizable-column">
			                    {{car[col.field]}}
			            </td>
			        </tr>
			    </ng-template>

			    <ng-template pTemplate="summary">
		            <div class="row px-4">
		            	<div class="col-11 p-0" class="text-left">
		            	    <span class="mt-3">
		            	    	Selected Car: {{selectedCar ? selectedCar.vin + ' - ' + selectedCar.brand + ' - ' + selectedCar.year + ' - ' + selectedCar.color: 'none'}}
		            	    </span>
		            	</div>

		            	<div class="col-1 pl-2" *ngIf="selectedCar">
		            		<div style="width:20px; height:20px;border:1px solid #000;" 
		            		[ngStyle]="{'background': selectedCar.color}"></div>
		            	</div>
		            </div>

		        </ng-template>
			</p-table>
			
		</div>
	</div>
</div>


<!-- TABLE 3 -->

<div [@animate]="{value:'*', params:{ scale:'.9', delay:'400ms' }}">
	<div class="row mx-0">
		<div class="col-11 py-5 mt-5 text-center">
			<h5 class="text-muted m-0 mb-5">Primeng Table with Slanted Header, Sort, Resize, Pagination, Editable</h5>

			<p-table
				[value]="cars2" 
				[paginator]="true"
				[rows]="10"
				[rowsPerPageOptions]="[10,15,20,25]" [resizableColumns]="true">
			    <ng-template pTemplate="header">
			        <tr>
			            <th *ngFor="let col of cols" 
			            class="rotated-header" 
			            [pSortableColumn]="col.field"
			            (click)="removeHighlight()" pResizableColumn>
			            	<div class="rotated-header-decoration"></div>
			                <div class="rotated-header-text"> 
			                    <p-sortIcon [field]="col.field"></p-sortIcon>
			                    {{col.header}}
			                </div>
			                
			            </th>
			        </tr>
			    </ng-template>
			    <ng-template pTemplate="body" let-car>
			        <tr>
			            <td *ngFor="let col of cols"
			            pEditableColumn  
			            class="ui-resizable-column">
			            	<!-- NORMAL INPUT -->
			                <p-cellEditor *ngIf="col.field !== 'brand'">
			                    <ng-template pTemplate="input">
			                        <input pInputText type="text" 
			                        [(ngModel)]="car[col.field]">
			                    </ng-template>
			                    <ng-template pTemplate="output">
			                        {{car[col.field]}}
			                    </ng-template>
			                </p-cellEditor>

			                <!-- DROPDOWN INPUT -->
			                <p-cellEditor *ngIf="col.field === 'brand'">
			                    <ng-template pTemplate="input">
			                        
			                        <div class="form-group custom-dropdown">
			                            <select class="form-control" 
			                            	style="cursor: pointer !important;"
			                            	[(ngModel)]="car[col.field]">
			                            	<option *ngFor="let brands of brands">
			                            		<span>{{brands.label}}</span>
			                            	</option>
			                            </select>
			                        </div>
			                    </ng-template>
			                    <ng-template pTemplate="output">
			                        {{car[col.field]}}
			                    </ng-template>
			                </p-cellEditor>
			            </td>
			        </tr>
			    </ng-template>
			</p-table>
		</div>
	</div>
</div>

<!-- TABLE 5 -->
<div [@animate]="{value:'*', params:{ scale:'.9', delay:'400ms' }}">
	<div class="row mx-0">
		<div class="col-11 py-5 mt-5 text-center">
			<h5 class="text-muted m-0 mb-5">Primeng Table with Slanted Header, Sort, Resize, Editable, Frozen Column</h5>

			<p-table
				[value]="cars2" 
				[columns]="scrollableCols" 
				[scrollable]="true" 
				[(selection)]="selectedCar"
				[frozenColumns]="frozenCols" 
				frozenWidth="220px"
				scrollHeight="335px">
				<ng-template pTemplate="colgroup" let-columns>
					<colgroup>
						<col *ngFor="let col of columns" style="width:220px">
					</colgroup>
				</ng-template>
			    <ng-template pTemplate="header" let-columns>
			        <tr>
			            <th [id]="'slanted-header-' + col.field"
			            *ngFor="let col of columns; let i = index;" 
			            class="rotated-header"
			            [pSortableColumn]="col.field"
			            (click)="removeHighlight()">
			            	<div class="rotated-header-decoration" 
			            	></div>
			                <div class="rotated-header-text" [id]="'slanted-text-' + col.field"> 
			                    <p-sortIcon [field]="col.field"></p-sortIcon>
			                    {{col.header}}
			                </div>
			            </th>
			        </tr>
			    </ng-template>
			    <ng-template pTemplate="body" let-rowData let-columns="columns">
			        <tr>
			            <td *ngFor="let col of columns"
			            pEditableColumn  
			            class="ui-resizable-column">
			            	<!-- NORMAL INPUT -->
			                <p-cellEditor>
			                    <ng-template pTemplate="input">
			                        <input pInputText type="text" 
			                        [(ngModel)]="rowData[col.field]">
			                    </ng-template>
			                    <ng-template pTemplate="output">
			                        {{rowData[col.field]}}
			                    </ng-template>
			                </p-cellEditor>
			            </td>
			        </tr>
			    </ng-template>
			</p-table>
		</div>
	</div>
</div>
